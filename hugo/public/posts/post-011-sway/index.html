<!DOCTYPE html>
<html><head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>do i3 para o Sway - denislee</title><meta name="viewport" content="width=device-width, initial-scale=1">

	<meta property="og:image" content=""/>
	<meta property="og:title" content="do i3 para o Sway" />
<meta property="og:description" content="Motivação Uma das poucas coisas que me fariam mudar de ideia de trocar de sistema operacional, window manager ou qualquer software que eu uso no computador, com certeza, é velocidade/performance (por isso que, normalmente, não gosto de aplicações feitas em Electron, pois costumam ser bem devagar).
E, visto que o Sway é a transição mais tranquila para usuários i3, porém com um twist bem importante para a performance, pois utiliza o wayland no lugar do xorg." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://denislee.github.io/posts/post-011-sway/" />
<meta property="article:published_time" content="2021-02-22T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-02-22T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="do i3 para o Sway"/>
<meta name="twitter:description" content="Motivação Uma das poucas coisas que me fariam mudar de ideia de trocar de sistema operacional, window manager ou qualquer software que eu uso no computador, com certeza, é velocidade/performance (por isso que, normalmente, não gosto de aplicações feitas em Electron, pois costumam ser bem devagar).
E, visto que o Sway é a transição mais tranquila para usuários i3, porém com um twist bem importante para a performance, pois utiliza o wayland no lugar do xorg."/>
<script src="https://denislee.github.io/js/feather.min.js"></script>
	
	<link href="https://denislee.github.io/css/fonts.css" rel="stylesheet">
	
	<link rel="stylesheet" type="text/css" media="screen" href="https://denislee.github.io/css/main.css" /><link rel="stylesheet" type="text/css" href="https://denislee.github.io/css/dark.css" media="(prefers-color-scheme: dark)" />
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://denislee.github.io/">denislee</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/posts">All posts</a>
		
		<a href="/about">About</a>
		
		<a href="/tags">Tags</a>
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">do i3 para o Sway</h1>
			<div class="meta">Posted on Feb 22, 2021</div>
		</div>
		

		<section class="body">
			<h1 id="motivação">Motivação</h1>
<p>Uma das poucas coisas que me fariam mudar de ideia de trocar de sistema operacional, window manager ou qualquer software que eu uso no computador, com certeza, é velocidade/performance (por isso que, normalmente, não gosto de aplicações feitas em Electron, pois costumam ser bem devagar).</p>
<p>E, visto que o Sway é a transição mais tranquila para usuários i3, porém com um twist bem importante para a performance, pois utiliza o wayland no lugar do xorg.</p>
<h1 id="dificuldades">Dificuldades</h1>
<p>Mas, nem tudo são flores. Apesar de eu ser super baunilha (sempre usei o Manjaro com i3 do jeito que veio), existem alguns programas bem específicos que eu uso no meu dia a dia. Eles são:</p>
<ul>
<li>Synergy (sério, tenho múltiplos computadores ligados na mesa.)</li>
<li>Flameshot</li>
<li>xmodmap</li>
</ul>
<p>O resto, eu realmente não liguei muito e minha configuração antiga do i3 serviu muito bem no Sway. Mas, nesses programas eu tive um bom atrito (um deles eu ainda não encontrei substituto).</p>
<h1 id="flameshot">Flameshot</h1>
<p>O problema foi resolvido com a sugestão de um colega meu do trabalho, com o combo de aplicações: grim, slurp e swappy. Que, honestamente, funciona melhor que o Flameshot no aspecto de edição da imagem antes de exportar.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">    bindsym $mod+p exec grim -g &#34;$(slurp)&#34; - | swappy -f -
</code></pre></div><h1 id="xmodmap">xmodmap</h1>
<p>No meu computador de trabalho eu não tive dificuldades, pois eu utilizei um teclado mecânico completamente configurável. E, com isso, consegui deixar as teclas do jeito que eu queria:</p>
<ul>
<li>Troca do Capslock por Ctrl</li>
<li>Troca das teclas vizinhas do espaço pelos Supers (Mod4)</li>
</ul>
<p>Já no meu laptop pessoal, eu tenho um computador que comprei no Japão. E, por esse motivo, ele tem um teclado diferente. Possui teclas adicionais:</p>
<ul>
<li>Muhenkan (No conversion)</li>
<li>Henkan (Convert)</li>
<li>Kana Mode</li>
</ul>
<p>Eu aproveito essas teclas para transformar no Super (Mod4), que são teclas muito importante para gerenciamento de janelas em windows managers de tiling (colocação?). E, como eu usava um arquivo .Xmodmap para configurar essas teclas e o wayland não aceita mais essas teclas, eu tive que criar o seguinte arquivo <code>~/.xkb/symbols/jp-mod</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">partial modifier_keys
xkb_symbols &#34;basic&#34; {
  include &#34;us(intl)&#34;
  key &lt;MUHE&gt; { [ Super_L ] };
  key &lt;HENK&gt; { [ Super_R ] };
  modifier_map Mod4 { &lt;MUHE&gt;, &lt;HENK&gt; };
};
</code></pre></div><p>E faço referência no arquivo de configuração do Sway <code>~/.config/sway/config</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">input * {
  xkb_layout jp-mod
  xkb_options caps:ctrl_modifier
}
</code></pre></div><h1 id="synergy">Synergy</h1>
<p>Infelizmente não existe substituto que funcione como o Synergy ou próximo disso. E, fazer ele funcionar no wayland é um esforço bem grande.</p>
<p>Se você realizar uma busca na internet vai encontrar uma discussão sobre a compatibilidade do Synergy para o wayland de 2014. Sim, 2014:</p>
<ul>
<li><a href="https://github.com/symless/synergy-core/issues/4090">https://github.com/symless/synergy-core/issues/4090</a></li>
</ul>
<p>E, toda issue aberta sobre isso, é automaticamente fechada e o CEO da empresa garante que isso está no roadmap para a próxima grande release deles:</p>
<ul>
<li><a href="https://symless.com/synergy/roadmap">https://symless.com/synergy/roadmap</a></li>
</ul>
<p>Algo que está sendo prometido desde 2014 e deu em feijoada até agora. Duvido muito que vamos ver algo dessa portabilidade em um futuro próximo.</p>
<p>Pesquisando alternativas encontrei algo que faz um KVM bem meia boca de maneira virtual que não depende do xorg ou do wayland para funcionar:</p>
<ul>
<li><a href="https://github.com/htrefil/rkvm">https://github.com/htrefil/rkvm</a></li>
</ul>
<p>Porém, diversas pessoas reportaram que não funciona. E, de fato, não funcionou para mim também. A única coisa que acontece, é travar o seu computador assim que sobe o server. Alguém, aparentemente, conseguiu mapear o problema, mas sem sucesso de fazer funcionar.</p>
<h1 id="conclusão">Conclusão</h1>
<p>Estou gostando bastante do Sway, mesmo não conseguindo utilizar 100% todas as aplicações que eu tinha acesso antigamente. Mas, mesmo assim, ainda acho que vale a pena a troca da falta do Synergy para a performance que ele prove.</p>
<p>Para quem tiver curiosidade:</p>
<ul>
<li><a href="https://swaywm.org/">https://swaywm.org/</a></li>
</ul>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/i3">i3</a></li>
					
					<li><a href="/tags/sway">sway</a></li>
					
				</ul>
			</nav>
			
			
		</div>
	</article>
</main>
<footer>
<hr><a class="soc" href="https://github.com/denislee" title="GitHub"><i data-feather="github"></i></a>|<a class="soc" href="https://twitter.com/denislee" title="Twitter"><i data-feather="twitter"></i></a>|⚡️
	2021  © Denis Lee |  <a href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
</footer>


<script>
      feather.replace()
</script></div>
    </body>
</html>
